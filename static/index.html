<!DOCTYPE html>
<html>

<head>
    <title>Weather station</title>
    <script>
        function ajax(endpoint) {
            fetch("/" + endpoint)
                .then(res => res.text())
                .then(t => document.getElementById(endpoint).innerHTML = t)
                .catch(err => console.error("Error fetching ", endpoint, ": ", err));
        }
    </script>
</head>

<body>
    <form action="/rtc" method="POST">
        <input type="number" name="y"><br>
        <input type="number" name="mo"><br>
        <input type="number" name="d"><br>
        <select name="day_of_week">
            <option>Mon</option>
            <option>Tue</option>
            <option>Wed</option>
            <option>Thu</option>
            <option>Fri</option>
            <option>Sat</option>
            <option>Sun</option>
        </select><br>
        <input type="number" name="h"><br>
        <input type="number" name="m"><br>
        <input type="submit" value="Set RTC"><br>
    </form>

    <p>Time: <span id="rtc"></span> </p>
    <button onclick="ajax('rtc')">Get time</button>
    <p>Data: <span id="data"></span></p>
    <button onclick="ajax('data')">Get data</button>
</body>

</html>